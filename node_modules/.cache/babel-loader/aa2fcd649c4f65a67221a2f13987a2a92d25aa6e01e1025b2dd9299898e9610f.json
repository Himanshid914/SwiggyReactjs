{"ast":null,"code":"var _jsxFileName = \"/Users/himanshi/Desktop/swiggyreact/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport InputControl from \"./InputControl\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { setUser } from \"../utils/userSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [loginInProcess, setLoginInProcess] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [localUserData, setLocalUserData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  //react-router-dom hook to navigate to home once logged in.\n  const navigate = useNavigate();\n\n  //store operations\n  const dispatch = useDispatch();\n  const handleClick = () => {\n    if (!localUserData.email || !localUserData.password) {\n      setErrorMessage(\"Please fill every field\");\n      setTimeout(() => {\n        setErrorMessage(\"\");\n      }, 2000);\n      return;\n    }\n\n    //verify details from firebase database\n    setLoginInProcess(true);\n    signInWithEmailAndPassword(auth, localUserData.email, localUserData.password).then(res => {\n      setLoginInProcess(false);\n      //dispatch this user to user slice in store.\n      dispatch(setUser(localUserData.email));\n      navigate(\"/\");\n    }).catch(err => {\n      setErrorMessage(err.code + \" \" + err.message);\n      console.log(errorMessage);\n      setTimeout(() => {\n        setErrorMessage(\"\");\n      }, 5000);\n      setLoginInProcess(false);\n    });\n    setLocalUserData({\n      email: \"\",\n      password: \"\"\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 flex flex-col items-center mx-auto border rounded border-gray-500  p-5 m-5\",\n        children: [/*#__PURE__*/_jsxDEV(InputControl, {\n          label: \"Email\",\n          placeholder: \"Enter Email Address\",\n          type: \"email\",\n          value: localUserData.email,\n          onChange: event => setLocalUserData(prev => ({\n            ...prev,\n            email: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputControl, {\n          label: \"Password\",\n          placeholder: \"Enter Password\",\n          type: \"password\",\n          value: localUserData.password,\n          onChange: event => setLocalUserData(prev => ({\n            ...prev,\n            password: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), errorMessage !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 font-Arvo\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full m-2\",\n          children: loginInProcess ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-gray-500 border rounded p-2 w-full font-Arvo text-lg\",\n            disabled: true,\n            onClick: handleClick,\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-green-400 border rounded p-2 w-full font-Arvo text-lg\",\n            onClick: handleClick,\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-Arvo\",\n          children: [\"Don't have an account,\", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-500 hover:cursor-pointer\",\n              children: [\" \", \"Sign Up\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), \" \", \"to continue.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"yQIpwPx5+sC4gWIwCNV422N0GDQ=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","InputControl","Link","useNavigate","signInWithEmailAndPassword","auth","useDispatch","setUser","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","loginInProcess","setLoginInProcess","errorMessage","setErrorMessage","localUserData","setLocalUserData","email","password","navigate","dispatch","handleClick","setTimeout","then","res","catch","err","code","message","console","log","children","className","label","placeholder","type","value","onChange","event","prev","target","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClick","to","_c","$RefreshReg$"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport InputControl from \"./InputControl\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { useDispatch } from \"react-redux\"; \nimport { setUser } from \"../utils/userSlice\";\n\nconst Login = () => {\n  const [loginInProcess, setLoginInProcess] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [localUserData, setLocalUserData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  //react-router-dom hook to navigate to home once logged in.\n  const navigate = useNavigate();\n\n  //store operations\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    if (!localUserData.email || !localUserData.password) {\n      setErrorMessage(\"Please fill every field\");\n      setTimeout(() => {\n        setErrorMessage(\"\");\n      }, 2000);\n\n      return;\n    }\n\n    //verify details from firebase database\n    setLoginInProcess(true);\n    signInWithEmailAndPassword(\n      auth,\n      localUserData.email,\n      localUserData.password\n    )\n      .then((res) => {\n        setLoginInProcess(false);\n        //dispatch this user to user slice in store.\n        dispatch(setUser(localUserData.email));\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        setErrorMessage(err.code + \" \" + err.message);\n        console.log(errorMessage);\n        setTimeout(() => {\n          setErrorMessage(\"\");\n        }, 5000);\n        setLoginInProcess(false);\n      });\n\n    setLocalUserData({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <>\n      <div className=\"w-full min-h-screen\">\n        <div className=\"w-1/2 flex flex-col items-center mx-auto border rounded border-gray-500  p-5 m-5\">\n          <InputControl\n            label=\"Email\"\n            placeholder=\"Enter Email Address\"\n            type=\"email\"\n            value={localUserData.email}\n            onChange={(event) =>\n              setLocalUserData((prev) => ({\n                ...prev,\n                email: event.target.value,\n              }))\n            }\n          />\n\n          <InputControl\n            label=\"Password\"\n            placeholder=\"Enter Password\"\n            type=\"password\"\n            value={localUserData.password}\n            onChange={(event) =>\n              setLocalUserData((prev) => ({\n                ...prev,\n                password: event.target.value,\n              }))\n            }\n          />\n\n          {errorMessage !== \"\" && (\n            <p className=\"text-red-500 font-Arvo\">{errorMessage}</p>\n          )}\n\n          <div className=\"w-full m-2\">\n            {\n              loginInProcess ? (\n                <button\n              className=\"bg-gray-500 border rounded p-2 w-full font-Arvo text-lg\" disabled={true}\n              onClick={handleClick}\n            >\n              Log In\n            </button>\n              ): (\n                <button\n              className=\"bg-green-400 border rounded p-2 w-full font-Arvo text-lg\"\n              onClick={handleClick}\n            >\n              Log In\n            </button>\n              )\n            }\n          </div>\n\n          <p className=\"font-Arvo\">\n            Don't have an account,\n            <Link to=\"/signup\">\n              <span className=\"text-blue-500 hover:cursor-pointer\">\n                {\" \"}\n                Sign Up{\" \"}\n              </span>\n            </Link>{\" \"}\n            to continue.\n          </p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAASC,0BAA0B,QAAQ,eAAe;AAC1D,SAASC,IAAI,QAAQ,aAAa;AAClC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,OAAO,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE7C,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkB,aAAa,EAAEC,gBAAgB,CAAC,GAAGnB,QAAQ,CAAC;IACjDoB,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;;EAEF;EACA,MAAMC,QAAQ,GAAGnB,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMoB,QAAQ,GAAGjB,WAAW,CAAC,CAAC;EAE9B,MAAMkB,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAACN,aAAa,CAACE,KAAK,IAAI,CAACF,aAAa,CAACG,QAAQ,EAAE;MACnDJ,eAAe,CAAC,yBAAyB,CAAC;MAC1CQ,UAAU,CAAC,MAAM;QACfR,eAAe,CAAC,EAAE,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;MAER;IACF;;IAEA;IACAF,iBAAiB,CAAC,IAAI,CAAC;IACvBX,0BAA0B,CACxBC,IAAI,EACJa,aAAa,CAACE,KAAK,EACnBF,aAAa,CAACG,QAChB,CAAC,CACEK,IAAI,CAAEC,GAAG,IAAK;MACbZ,iBAAiB,CAAC,KAAK,CAAC;MACxB;MACAQ,QAAQ,CAAChB,OAAO,CAACW,aAAa,CAACE,KAAK,CAAC,CAAC;MACtCE,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAK;MACdZ,eAAe,CAACY,GAAG,CAACC,IAAI,GAAG,GAAG,GAAGD,GAAG,CAACE,OAAO,CAAC;MAC7CC,OAAO,CAACC,GAAG,CAACjB,YAAY,CAAC;MACzBS,UAAU,CAAC,MAAM;QACfR,eAAe,CAAC,EAAE,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;MACRF,iBAAiB,CAAC,KAAK,CAAC;IAC1B,CAAC,CAAC;IAEJI,gBAAgB,CAAC;MACfC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC;EAED,oBACEZ,OAAA,CAAAE,SAAA;IAAAuB,QAAA,eACEzB,OAAA;MAAK0B,SAAS,EAAC,qBAAqB;MAAAD,QAAA,eAClCzB,OAAA;QAAK0B,SAAS,EAAC,kFAAkF;QAAAD,QAAA,gBAC/FzB,OAAA,CAACR,YAAY;UACXmC,KAAK,EAAC,OAAO;UACbC,WAAW,EAAC,qBAAqB;UACjCC,IAAI,EAAC,OAAO;UACZC,KAAK,EAAErB,aAAa,CAACE,KAAM;UAC3BoB,QAAQ,EAAGC,KAAK,IACdtB,gBAAgB,CAAEuB,IAAI,KAAM;YAC1B,GAAGA,IAAI;YACPtB,KAAK,EAAEqB,KAAK,CAACE,MAAM,CAACJ;UACtB,CAAC,CAAC;QACH;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eAEFtC,OAAA,CAACR,YAAY;UACXmC,KAAK,EAAC,UAAU;UAChBC,WAAW,EAAC,gBAAgB;UAC5BC,IAAI,EAAC,UAAU;UACfC,KAAK,EAAErB,aAAa,CAACG,QAAS;UAC9BmB,QAAQ,EAAGC,KAAK,IACdtB,gBAAgB,CAAEuB,IAAI,KAAM;YAC1B,GAAGA,IAAI;YACPrB,QAAQ,EAAEoB,KAAK,CAACE,MAAM,CAACJ;UACzB,CAAC,CAAC;QACH;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,EAED/B,YAAY,KAAK,EAAE,iBAClBP,OAAA;UAAG0B,SAAS,EAAC,wBAAwB;UAAAD,QAAA,EAAElB;QAAY;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CACxD,eAEDtC,OAAA;UAAK0B,SAAS,EAAC,YAAY;UAAAD,QAAA,EAEvBpB,cAAc,gBACZL,OAAA;YACF0B,SAAS,EAAC,yDAAyD;YAACa,QAAQ,EAAE,IAAK;YACnFC,OAAO,EAAEzB,WAAY;YAAAU,QAAA,EACtB;UAED;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,gBAELtC,OAAA;YACF0B,SAAS,EAAC,0DAA0D;YACpEc,OAAO,EAAEzB,WAAY;YAAAU,QAAA,EACtB;UAED;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QACL;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEA,CAAC,eAENtC,OAAA;UAAG0B,SAAS,EAAC,WAAW;UAAAD,QAAA,GAAC,wBAEvB,eAAAzB,OAAA,CAACP,IAAI;YAACgD,EAAE,EAAC,SAAS;YAAAhB,QAAA,eAChBzB,OAAA;cAAM0B,SAAS,EAAC,oCAAoC;cAAAD,QAAA,GACjD,GAAG,EAAC,SACE,EAAC,GAAG;YAAA;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAAC,GAAG,EAAC,cAEd;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,gBACN,CAAC;AAEP,CAAC;AAAClC,EAAA,CAxHID,KAAK;EAAA,QASQT,WAAW,EAGXG,WAAW;AAAA;AAAA6C,EAAA,GAZxBvC,KAAK;AA0HX,eAAeA,KAAK;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}