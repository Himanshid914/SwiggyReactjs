{"ast":null,"code":"import{useState}from\"react\";import InputControl from\"./InputControl\";import{Link,useNavigate}from\"react-router-dom\";import{createUserWithEmailAndPassword,updateProfile}from\"firebase/auth\";import{auth}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const[errorMessage,setErrorMessage]=useState(\"\");const[signUpInProcess,setSignUpInProcess]=useState(false);const[localUserData,setLocalUserData]=useState({name:\"\",email:\"\",password:\"\"});const navigate=useNavigate();const handleClick=()=>{if(!localUserData.name||!localUserData.email||!localUserData.password){setErrorMessage(\"Please fill every field\");setTimeout(()=>{setErrorMessage(\"\");},2000);return;}//create user in firebase\nsetSignUpInProcess(true);createUserWithEmailAndPassword(auth,localUserData.email,localUserData.password).then(async res=>{console.log(res.user.displayName);console.log(\"Updating profile name\");await updateProfile(res.user,{displayName:localUserData.name});console.log(\"profile updated\");console.log(res.user.displayName);setSignUpInProcess(false);navigate(\"/\");}).catch(err=>{setErrorMessage(err.code+\" \"+err.message);setTimeout(()=>{setErrorMessage(\"\");},5000);setSignUpInProcess(false);});setLocalUserData({name:\"\",email:\"\",password:\"\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 flex flex-col items-center mx-auto border rounded border-gray-500  p-5 m-5\",children:[/*#__PURE__*/_jsx(InputControl,{label:\"Name\",placeholder:\"Enter Your Name\",type:\"text\",value:localUserData.name,onChange:event=>setLocalUserData(prev=>({...prev,name:event.target.value}))}),/*#__PURE__*/_jsx(InputControl,{label:\"Email\",placeholder:\"Enter Email Address\",type:\"email\",value:localUserData.email,onChange:event=>setLocalUserData(prev=>({...prev,email:event.target.value}))}),/*#__PURE__*/_jsx(InputControl,{label:\"Password\",placeholder:\"Enter Password\",type:\"password\",value:localUserData.password,onChange:event=>setLocalUserData(prev=>({...prev,password:event.target.value}))}),errorMessage!==\"\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 font-Arvo\",children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full m-2\",children:signUpInProcess?/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-400 border rounded p-2 w-full font-Arvo text-lg\",onClick:handleClick,disabled:true,children:\"Sign Up\"}):/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-400 border rounded p-2 w-full font-Arvo text-lg\",onClick:handleClick,children:\"Sign Up\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-Arvo\",children:[\"Already have an account,\",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 hover:cursor-pointer\",children:\" Log In \"})}),\" \",\"to continue.\"]})]})});};export default SignUp;","map":{"version":3,"names":["useState","InputControl","Link","useNavigate","createUserWithEmailAndPassword","updateProfile","auth","jsx","_jsx","jsxs","_jsxs","SignUp","errorMessage","setErrorMessage","signUpInProcess","setSignUpInProcess","localUserData","setLocalUserData","name","email","password","navigate","handleClick","setTimeout","then","res","console","log","user","displayName","catch","err","code","message","className","children","label","placeholder","type","value","onChange","event","prev","target","onClick","disabled","to"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/SignUp.js"],"sourcesContent":["import { useState } from \"react\";\nimport InputControl from \"./InputControl\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\n\nconst SignUp = () => {\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [signUpInProcess, setSignUpInProcess] = useState(false);\n\n  const [localUserData, setLocalUserData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  });\n\n\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    if (\n      !localUserData.name ||\n      !localUserData.email ||\n      !localUserData.password\n    ) {\n      setErrorMessage(\"Please fill every field\");\n      setTimeout(() => {\n        setErrorMessage(\"\");\n      }, 2000);\n\n      return;\n    }\n\n    //create user in firebase\n    setSignUpInProcess(true);\n\n    createUserWithEmailAndPassword(\n      auth,\n      localUserData.email,\n      localUserData.password\n    )\n      .then (async(res) => {\n        console.log(res.user.displayName);\n        console.log(\"Updating profile name\");\n        await updateProfile(res.user, {\n          displayName: localUserData.name,\n        });\n        console.log(\"profile updated\");\n        console.log(res.user.displayName);\n        setSignUpInProcess(false);\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        setErrorMessage(err.code + \" \" + err.message);\n        setTimeout(() => {\n          setErrorMessage(\"\");\n        }, 5000);\n        setSignUpInProcess(false);\n      });\n\n    setLocalUserData({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  return (\n    <div className=\"w-full min-h-screen\">\n      <div className=\"w-1/2 flex flex-col items-center mx-auto border rounded border-gray-500  p-5 m-5\">\n   \n        <InputControl\n          label=\"Name\"\n          placeholder=\"Enter Your Name\"\n          type=\"text\"\n          value={localUserData.name}\n          onChange={(event) =>\n            setLocalUserData((prev) => ({ ...prev, name: event.target.value }))\n          }\n        />\n\n        <InputControl\n          label=\"Email\"\n          placeholder=\"Enter Email Address\"\n          type=\"email\"\n          value={localUserData.email}\n          onChange={(event) =>\n            setLocalUserData((prev) => ({ ...prev, email: event.target.value }))\n          }\n        />\n\n        <InputControl\n          label=\"Password\"\n          placeholder=\"Enter Password\"\n          type=\"password\"\n          value={localUserData.password}\n          onChange={(event) =>\n            setLocalUserData((prev) => ({\n              ...prev,\n              password: event.target.value,\n            }))\n          }\n        />\n\n        {errorMessage !== \"\" && (\n          <p className=\"text-red-500 font-Arvo\">{errorMessage}</p>\n        )}\n\n        <div className=\"w-full m-2\">\n          {\n            signUpInProcess ? (\n              <button\n            className=\"bg-gray-400 border rounded p-2 w-full font-Arvo text-lg\"\n            onClick={handleClick} disabled = {true}\n          >\n            Sign Up\n          </button>\n            ): (\n              <button\n            className=\"bg-green-400 border rounded p-2 w-full font-Arvo text-lg\"\n            onClick={handleClick}\n          >\n            Sign Up\n          </button>\n            )\n          }\n          \n        </div>\n\n        \n        <p className=\"font-Arvo\">\n          Already have an account,\n          <Link to=\"/login\">\n            <span className=\"text-blue-500 hover:cursor-pointer\"> Log In </span>\n          </Link>{\" \"}\n          to continue.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}