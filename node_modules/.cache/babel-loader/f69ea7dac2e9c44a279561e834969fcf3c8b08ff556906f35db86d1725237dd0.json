{"ast":null,"code":"var _jsxFileName = \"/Users/himanshi/Desktop/swiggyreact/src/components/OrderHistory.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { database } from \"../firebase\";\nimport { IMG_CDN_URL } from \"./Config\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrderHistory = currentUser => {\n  _s();\n  const [orders, setOrders] = useState(null);\n  const uid = currentUser.currentUser.uid;\n  useEffect(() => {\n    const fetchData = () => {\n      const databaseRef = database.ref(\"users/\" + uid);\n      databaseRef.on(\"value\", snapshot => {\n        const val = snapshot.val();\n        if (val) {\n          const data = Object.values(val);\n          setOrders(data);\n        }\n        // const data = Object?.values(snapshot.val());\n        // setOrders(data);\n      });\n      console.log(orders);\n      // databaseRef.off(\"value\");\n    };\n    fetchData();\n  }, [orders, uid]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: orders != null && orders.length > 0 && orders.map(order => {\n      const path = \"/restaruant/\" + order.restaurant_id;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-1 flex \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-12 mx-2 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: path,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"min-h-full max-h-full object-fill rounded\",\n              src: IMG_CDN_URL + order.logo,\n              alt: \"restaurant logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-Arvo\",\n              children: order.restaurantName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this), order.items.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex font-Arvo text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mx-2\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mx-2\",\n                children: item.price / 100\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"mx-2\",\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false);\n};\n_s(OrderHistory, \"sEmDx4O2fuC1fpZNSrR+MBe7Cvg=\");\n_c = OrderHistory;\nexport default OrderHistory;\nvar _c;\n$RefreshReg$(_c, \"OrderHistory\");","map":{"version":3,"names":["useEffect","useState","database","IMG_CDN_URL","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderHistory","currentUser","_s","orders","setOrders","uid","fetchData","databaseRef","ref","on","snapshot","val","data","Object","values","console","log","children","length","map","order","path","restaurant_id","className","to","src","logo","alt","fileName","_jsxFileName","lineNumber","columnNumber","restaurantName","items","item","name","price","quantity","_c","$RefreshReg$"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/OrderHistory.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { database } from \"../firebase\";\nimport { IMG_CDN_URL } from \"./Config\";\nimport { Link } from \"react-router-dom\";\n\nconst OrderHistory = (currentUser) => {\n  const [orders, setOrders] = useState(null);\n  const uid = currentUser.currentUser.uid;\n\n  useEffect(() => {\n    const fetchData = () => {\n      const databaseRef = database.ref(\"users/\" + uid);\n\n      databaseRef.on(\"value\", (snapshot) => {\n        const val= snapshot.val();\n        if(val){\n          const data = Object.values(val);\n          setOrders(data);\n        }\n        // const data = Object?.values(snapshot.val());\n        // setOrders(data);\n      });\n      console.log(orders);\n      // databaseRef.off(\"value\");\n    };\n\n    fetchData();\n  }, [orders, uid]);\n\n\n  return (\n    <>\n      {orders != null &&\n        orders.length > 0 &&\n        orders.map((order) => {\n          const path = \"/restaruant/\" + order.restaurant_id;\n          return (\n            <div className=\"my-1 flex \">\n              {/* left side: logo */}\n              <div className=\"w-16 h-12 mx-2 overflow-hidden\">\n                <Link to={path}>\n                  <img\n                    className=\"min-h-full max-h-full object-fill rounded\"\n                    src={IMG_CDN_URL + order.logo}\n                    alt=\"restaurant logo\"\n                  />\n                </Link>\n              </div>\n              {/* right side for other details: top restaruant, below menu */}\n              <div>\n                {/* restaurant */}\n                <div>\n                  <h3 className=\"text-lg font-Arvo\">{order.restaurantName}</h3>\n                </div>\n                {/* menu */}\n                {order.items.map((item) => {\n                  return (\n                    <div className=\"flex font-Arvo text-sm\">\n                      <h3 className=\"mx-2\">{item.name}</h3>\n                      <h3 className=\"mx-2\">{item.price / 100}</h3>\n                      <h3 className=\"mx-2\">{item.quantity}</h3>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          );\n        })}\n    </>\n  );\n};\n\nexport default OrderHistory;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,WAAW,QAAQ,UAAU;AACtC,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAExC,MAAMC,YAAY,GAAIC,WAAW,IAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAMa,GAAG,GAAGJ,WAAW,CAACA,WAAW,CAACI,GAAG;EAEvCd,SAAS,CAAC,MAAM;IACd,MAAMe,SAAS,GAAGA,CAAA,KAAM;MACtB,MAAMC,WAAW,GAAGd,QAAQ,CAACe,GAAG,CAAC,QAAQ,GAAGH,GAAG,CAAC;MAEhDE,WAAW,CAACE,EAAE,CAAC,OAAO,EAAGC,QAAQ,IAAK;QACpC,MAAMC,GAAG,GAAED,QAAQ,CAACC,GAAG,CAAC,CAAC;QACzB,IAAGA,GAAG,EAAC;UACL,MAAMC,IAAI,GAAGC,MAAM,CAACC,MAAM,CAACH,GAAG,CAAC;UAC/BP,SAAS,CAACQ,IAAI,CAAC;QACjB;QACA;QACA;MACF,CAAC,CAAC;MACFG,OAAO,CAACC,GAAG,CAACb,MAAM,CAAC;MACnB;IACF,CAAC;IAEDG,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACH,MAAM,EAAEE,GAAG,CAAC,CAAC;EAGjB,oBACER,OAAA,CAAAE,SAAA;IAAAkB,QAAA,EACGd,MAAM,IAAI,IAAI,IACbA,MAAM,CAACe,MAAM,GAAG,CAAC,IACjBf,MAAM,CAACgB,GAAG,CAAEC,KAAK,IAAK;MACpB,MAAMC,IAAI,GAAG,cAAc,GAAGD,KAAK,CAACE,aAAa;MACjD,oBACEzB,OAAA;QAAK0B,SAAS,EAAC,YAAY;QAAAN,QAAA,gBAEzBpB,OAAA;UAAK0B,SAAS,EAAC,gCAAgC;UAAAN,QAAA,eAC7CpB,OAAA,CAACF,IAAI;YAAC6B,EAAE,EAAEH,IAAK;YAAAJ,QAAA,eACbpB,OAAA;cACE0B,SAAS,EAAC,2CAA2C;cACrDE,GAAG,EAAE/B,WAAW,GAAG0B,KAAK,CAACM,IAAK;cAC9BC,GAAG,EAAC;YAAiB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eAENlC,OAAA;UAAAoB,QAAA,gBAEEpB,OAAA;YAAAoB,QAAA,eACEpB,OAAA;cAAI0B,SAAS,EAAC,mBAAmB;cAAAN,QAAA,EAAEG,KAAK,CAACY;YAAc;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1D,CAAC,EAELX,KAAK,CAACa,KAAK,CAACd,GAAG,CAAEe,IAAI,IAAK;YACzB,oBACErC,OAAA;cAAK0B,SAAS,EAAC,wBAAwB;cAAAN,QAAA,gBACrCpB,OAAA;gBAAI0B,SAAS,EAAC,MAAM;gBAAAN,QAAA,EAAEiB,IAAI,CAACC;cAAI;gBAAAP,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACrClC,OAAA;gBAAI0B,SAAS,EAAC,MAAM;gBAAAN,QAAA,EAAEiB,IAAI,CAACE,KAAK,GAAG;cAAG;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC5ClC,OAAA;gBAAI0B,SAAS,EAAC,MAAM;gBAAAN,QAAA,EAAEiB,IAAI,CAACG;cAAQ;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC;UAEV,CAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAEV,CAAC;EAAC,gBACJ,CAAC;AAEP,CAAC;AAAC7B,EAAA,CAjEIF,YAAY;AAAAsC,EAAA,GAAZtC,YAAY;AAmElB,eAAeA,YAAY;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}