{"ast":null,"code":"import{useEffect,useState,useContext}from\"react\";import SearchBar from\"./SearchBar\";import{Link}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{FOOD_STDUIO_LOGO}from\"./Config\";import{auth}from\"../firebase\";import PathContext from\"../utils/PathContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const{currentPath}=useContext(PathContext);const[userName,setUserName]=useState(null);// Subscribe to the redux store\nconst cartItems=useSelector(store=>store.cart.cartItems);const path=\"/signup\";// console.log(\"Header rendering\");\nuseEffect(()=>{const unsubscribe=auth.onAuthStateChanged(async user=>{// console.log(user);\nif(user!=null){// console.log(user.displayName);\nif(!user.displayName){await user.reload();}setUserName(user.displayName);}else{setUserName(null);}});return()=>{unsubscribe();};});const handleClick=()=>{// console.log(\"log out\");\nauth.signOut();// setUser(null);\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between p-[13px]\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"w-[50px] h-[50px] overflow-hidden rounded-full flex justify-center\",href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"max-w-full max-h-full object-cover\",src:FOOD_STDUIO_LOGO,alt:\"\"})}),currentPath===\"/\"&&/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center \",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"list-none flex justify-between m-0 p-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"font-Arvo p-[10px] text-[18px]\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-Arvo p-[10px] text-[18px]\",children:/*#__PURE__*/_jsx(Link,{to:\"/about\",children:\"About Us\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-Arvo p-[10px] text-[18px]\",children:/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:\"Contact Us\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"font-Arvo p-[10px] text-[18px]\",children:/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[\"Cart (\",cartItems.items.length,\")\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:!userName?/*#__PURE__*/_jsx(Link,{to:path,children:/*#__PURE__*/_jsx(\"button\",{className:\" bg-inherit border-2 border-black rounded p-1 font-Arvo text-[18px] h-[37px]\",children:\"Login\"})}):/*#__PURE__*/_jsx(\"button\",{className:\" bg-inherit border-2 border-black rounded p-1 font-Arvo text-[18px] h-[37px]\",onClick:()=>handleClick(),children:userName})})]})]});};export default Header;","map":{"version":3,"names":["useEffect","useState","useContext","SearchBar","Link","useSelector","FOOD_STDUIO_LOGO","auth","PathContext","jsx","_jsx","jsxs","_jsxs","Header","currentPath","userName","setUserName","cartItems","store","cart","path","unsubscribe","onAuthStateChanged","user","displayName","reload","handleClick","signOut","className","children","href","src","alt","to","items","length","onClick"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/Header.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport {Link} from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { FOOD_STDUIO_LOGO } from \"./Config\";\nimport { auth } from \"../firebase\";\nimport PathContext from \"../utils/PathContext\";\n\n\nconst Header = () => {\n\n  const {currentPath} = useContext(PathContext);\n\n  const [userName, setUserName] = useState(null);\n\n  // Subscribe to the redux store\n  const cartItems = useSelector(store => store.cart.cartItems);\n  const path = \"/signup\";\n\n  // console.log(\"Header rendering\");\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async(user) => {\n      // console.log(user);\n      if(user != null){\n        // console.log(user.displayName);\n        if(!user.displayName){\n          await user.reload();\n        }\n        setUserName(user.displayName);\n      }else{\n        setUserName(null);\n      }\n    })\n\n    return () => {\n      unsubscribe();\n    }\n  })\n\n  const handleClick = () => {\n    // console.log(\"log out\");\n    auth.signOut();\n    // setUser(null);\n  }\n\n  return (\n    <div className=\"flex justify-between p-[13px]\">\n      <a className=\"w-[50px] h-[50px] overflow-hidden rounded-full flex justify-center\" href=\"/\">\n        <img className=\"max-w-full max-h-full object-cover\"\n          src= {FOOD_STDUIO_LOGO}\n          alt=\"\"\n        />\n      </a>\n\n      {\n        currentPath === \"/\" && <SearchBar/>\n      }\n\n      <div className=\"flex justify-end items-center \">\n        <ul className=\"list-none flex justify-between m-0 p-0\">\n          <li className=\"font-Arvo p-[10px] text-[18px]\"><Link to=\"/\">Home</Link></li>\n          <li className=\"font-Arvo p-[10px] text-[18px]\"><Link to=\"/about\">About Us</Link></li>\n          <li className=\"font-Arvo p-[10px] text-[18px]\"><Link to=\"/contact\">Contact Us</Link></li>\n          <li className=\"font-Arvo p-[10px] text-[18px]\"><Link to=\"/cart\">Cart ({cartItems.items.length})</Link></li>\n          \n        </ul>\n        <div className=\"flex items-center\">\n          {\n            !userName ? (<Link to={path}><button className=\" bg-inherit border-2 border-black rounded p-1 font-Arvo text-[18px] h-[37px]\"\n            >Login</button></Link>) : \n            (<button className=\" bg-inherit border-2 border-black rounded p-1 font-Arvo text-[18px] h-[37px]\"\n            onClick= {() => handleClick()}\n            >{userName}</button>)\n          }\n          \n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}