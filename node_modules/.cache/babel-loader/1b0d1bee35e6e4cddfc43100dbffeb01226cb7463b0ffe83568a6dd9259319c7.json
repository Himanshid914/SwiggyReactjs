{"ast":null,"code":"import{useState,useEffect,useContext}from\"react\";import{useLocation}from\"react-router-dom\";import useOnlineStatus from\"../utils/useOnlineStatus\";import{filterRestaurants}from\"../utils/utils\";import{restaurants}from\"./Config\";import RestaurantCard from\"./RestaurantCard\";import ShimmerUI from\"./ShimmerUI\";import SearchTextContext from\"../utils/SearchTextContext\";import PathContext from\"../utils/PathContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Body=()=>{const[filteredRestaurants,setFilteredRestaurants]=useState([]);const{searchTxt,setsearchTxt}=useContext(SearchTextContext);const{pathname}=useLocation();const{setCurrentPath}=useContext(PathContext);useEffect(()=>{setCurrentPath(pathname);setsearchTxt(\"\");},[pathname,setCurrentPath,setsearchTxt]);// searching\nuseEffect(()=>{const result=filterRestaurants(searchTxt,restaurants);if(result.length===0){alert(\"No Restaurant Found\");}else{setFilteredRestaurants(result);}},[searchTxt]);const isOnline=useOnlineStatus();if(!isOnline){alert(\"You're offline, Please check your internet connection\");return/*#__PURE__*/_jsx(ShimmerUI,{});}return restaurants.length===0||filteredRestaurants.length===0?/*#__PURE__*/_jsx(ShimmerUI,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-around flex-wrap my-6 mx-3 min-h-screen\",children:filteredRestaurants.map(restaurant=>{return/*#__PURE__*/_createElement(RestaurantCard,{...(restaurant===null||restaurant===void 0?void 0:restaurant.info),key:restaurant===null||restaurant===void 0?void 0:restaurant.id});})})});};export default Body;","map":{"version":3,"names":["useState","useEffect","useContext","useLocation","useOnlineStatus","filterRestaurants","restaurants","RestaurantCard","ShimmerUI","SearchTextContext","PathContext","jsx","_jsx","createElement","_createElement","Fragment","_Fragment","Body","filteredRestaurants","setFilteredRestaurants","searchTxt","setsearchTxt","pathname","setCurrentPath","result","length","alert","isOnline","children","className","map","restaurant","info","key","id"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/Body.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport useOnlineStatus from \"../utils/useOnlineStatus\";\nimport { filterRestaurants } from \"../utils/utils\";\nimport { restaurants } from \"./Config\";\nimport RestaurantCard from \"./RestaurantCard\";\nimport ShimmerUI from \"./ShimmerUI\";\nimport SearchTextContext from \"../utils/SearchTextContext\";\nimport PathContext from \"../utils/PathContext\";\n\nconst Body = () => {\n  const [filteredRestaurants, setFilteredRestaurants] = useState([]);\n  const { searchTxt, setsearchTxt } =\n    useContext(SearchTextContext);\n\n  const { pathname } = useLocation();\n  const { setCurrentPath } = useContext(PathContext);\n\n  useEffect(() => {\n    setCurrentPath(pathname);\n    setsearchTxt(\"\");\n  }, [pathname, setCurrentPath, setsearchTxt]);\n\n  // searching\n  useEffect(() => {\n    const result = filterRestaurants(searchTxt, restaurants);\n    if (result.length === 0) {\n      alert(\"No Restaurant Found\");\n    } else {\n      setFilteredRestaurants(result);\n    }\n  }, [searchTxt]);\n\n  const isOnline = useOnlineStatus();\n  if (!isOnline) {\n    alert(\"You're offline, Please check your internet connection\");\n    return <ShimmerUI />;\n  }\n\n  return restaurants.length === 0 || filteredRestaurants.length === 0 ? (\n    <ShimmerUI />\n  ) : (\n    <>\n      <div className=\"flex justify-around flex-wrap my-6 mx-3 min-h-screen\">\n        {filteredRestaurants.map((restaurant) => {\n          return <RestaurantCard {...restaurant?.info} key={restaurant?.id} />;\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Body;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,eAAe,KAAM,0BAA0B,CACtD,OAASC,iBAAiB,KAAQ,gBAAgB,CAClD,OAASC,WAAW,KAAQ,UAAU,CACtC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,iBAAiB,KAAM,4BAA4B,CAC1D,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,aAAA,IAAAC,cAAA,oBAAAC,QAAA,IAAAC,SAAA,yBAE/C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAClE,KAAM,CAAEoB,SAAS,CAAEC,YAAa,CAAC,CAC/BnB,UAAU,CAACO,iBAAiB,CAAC,CAE/B,KAAM,CAAEa,QAAS,CAAC,CAAGnB,WAAW,CAAC,CAAC,CAClC,KAAM,CAAEoB,cAAe,CAAC,CAAGrB,UAAU,CAACQ,WAAW,CAAC,CAElDT,SAAS,CAAC,IAAM,CACdsB,cAAc,CAACD,QAAQ,CAAC,CACxBD,YAAY,CAAC,EAAE,CAAC,CAClB,CAAC,CAAE,CAACC,QAAQ,CAAEC,cAAc,CAAEF,YAAY,CAAC,CAAC,CAE5C;AACApB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,MAAM,CAAGnB,iBAAiB,CAACe,SAAS,CAAEd,WAAW,CAAC,CACxD,GAAIkB,MAAM,CAACC,MAAM,GAAK,CAAC,CAAE,CACvBC,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CAAC,IAAM,CACLP,sBAAsB,CAACK,MAAM,CAAC,CAChC,CACF,CAAC,CAAE,CAACJ,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAO,QAAQ,CAAGvB,eAAe,CAAC,CAAC,CAClC,GAAI,CAACuB,QAAQ,CAAE,CACbD,KAAK,CAAC,uDAAuD,CAAC,CAC9D,mBAAOd,IAAA,CAACJ,SAAS,GAAE,CAAC,CACtB,CAEA,MAAO,CAAAF,WAAW,CAACmB,MAAM,GAAK,CAAC,EAAIP,mBAAmB,CAACO,MAAM,GAAK,CAAC,cACjEb,IAAA,CAACJ,SAAS,GAAE,CAAC,cAEbI,IAAA,CAAAI,SAAA,EAAAY,QAAA,cACEhB,IAAA,QAAKiB,SAAS,CAAC,sDAAsD,CAAAD,QAAA,CAClEV,mBAAmB,CAACY,GAAG,CAAEC,UAAU,EAAK,CACvC,mBAAOjB,cAAA,CAACP,cAAc,MAAKwB,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEC,IAAI,EAAEC,GAAG,CAAEF,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEG,EAAG,CAAE,CAAC,CACtE,CAAC,CAAC,CACC,CAAC,CACN,CACH,CACH,CAAC,CAED,cAAe,CAAAjB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}