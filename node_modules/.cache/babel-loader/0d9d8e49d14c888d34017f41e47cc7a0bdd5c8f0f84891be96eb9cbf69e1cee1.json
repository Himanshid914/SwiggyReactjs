{"ast":null,"code":"var _jsxFileName = \"/Users/himanshi/Desktop/swiggyreact/src/components/MealComponent.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useEffect } from \"react\";\nimport { IMG_CDN_URL } from \"./Config\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { checkAvailability, findQuantity, removeMenu } from \"../utils/utils\";\nimport { useParams } from \"react-router-dom\";\nimport RestaurantContext from \"../utils/RestaurantContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MealComponent = curMenu => {\n  _s();\n  var _curMenu$curMenu, _curMenu$curMenu$card, _curMenu$curMenu3, _curMenu$curMenu3$car, _curMenu$curMenu3$car2;\n  //destructure props\n  const {\n    name,\n    price,\n    description,\n    imageId\n  } = curMenu === null || curMenu === void 0 ? void 0 : (_curMenu$curMenu = curMenu.curMenu) === null || _curMenu$curMenu === void 0 ? void 0 : (_curMenu$curMenu$card = _curMenu$curMenu.card) === null || _curMenu$curMenu$card === void 0 ? void 0 : _curMenu$curMenu$card.info;\n\n  //state variables\n  const [itemQuantity, setItemQuantity] = useState(0);\n\n  //Read data from context API\n  const myData = useContext(RestaurantContext);\n\n  //fetch the id of opened restaurant\n  const {\n    id\n  } = useParams();\n\n  //Cart operations\n  //susbcribe to cart\n  const cartItems = useSelector(store => store.cart.cartItems);\n  //push to cart\n  const dispatch = useDispatch();\n\n  //action functions\n  const handleAdd = meal => {\n    const check = checkAvailability(id, meal, cartItems, dispatch, myData);\n    if (check) {\n      setItemQuantity(itemQuantity + 1);\n    }\n  };\n  const handleRemove = meal => {\n    removeMenu(meal, cartItems, dispatch);\n    setItemQuantity(Math.max(0, itemQuantity - 1));\n  };\n  useEffect(() => {\n    var _curMenu$curMenu2, _curMenu$curMenu2$car, _curMenu$curMenu2$car2;\n    setItemQuantity(findQuantity(curMenu === null || curMenu === void 0 ? void 0 : (_curMenu$curMenu2 = curMenu.curMenu) === null || _curMenu$curMenu2 === void 0 ? void 0 : (_curMenu$curMenu2$car = _curMenu$curMenu2.card) === null || _curMenu$curMenu2$car === void 0 ? void 0 : (_curMenu$curMenu2$car2 = _curMenu$curMenu2$car.info) === null || _curMenu$curMenu2$car2 === void 0 ? void 0 : _curMenu$curMenu2$car2.id, cartItems));\n  }, [cartItems, curMenu === null || curMenu === void 0 ? void 0 : (_curMenu$curMenu3 = curMenu.curMenu) === null || _curMenu$curMenu3 === void 0 ? void 0 : (_curMenu$curMenu3$car = _curMenu$curMenu3.card) === null || _curMenu$curMenu3$car === void 0 ? void 0 : (_curMenu$curMenu3$car2 = _curMenu$curMenu3$car.info) === null || _curMenu$curMenu3$car2 === void 0 ? void 0 : _curMenu$curMenu3$car2.id]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex p-[5px] items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-[80%] mb-[10px] px-[10px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mt-0 mb-[8px]\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"my-[4px]  text-[#5e5d5d]\",\n          children: [price / 100, \"Rs\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"my-[4px] text-[#8d8d8d]\",\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-[20%] text-center px-[10px] overflow-hidden\",\n        children: [imageId ? /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"min-w-full max-w-full object-fill rounded-md\",\n          src: IMG_CDN_URL + imageId,\n          alt: \"meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-evenly rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" text-sm text-white p-1 transform transition duration-300 hover:scale-125\",\n            onClick: () => {\n              var _curMenu$curMenu4, _curMenu$curMenu4$car;\n              return handleRemove(curMenu === null || curMenu === void 0 ? void 0 : (_curMenu$curMenu4 = curMenu.curMenu) === null || _curMenu$curMenu4 === void 0 ? void 0 : (_curMenu$curMenu4$car = _curMenu$curMenu4.card) === null || _curMenu$curMenu4$car === void 0 ? void 0 : _curMenu$curMenu4$car.info);\n            },\n            children: \"\\u2796\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"p-1\",\n            children: itemQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \" text-sm text-white p-1 transform transition duration-300 hover:scale-125\",\n            onClick: () => {\n              var _curMenu$curMenu5, _curMenu$curMenu5$car;\n              return handleAdd(curMenu === null || curMenu === void 0 ? void 0 : (_curMenu$curMenu5 = curMenu.curMenu) === null || _curMenu$curMenu5 === void 0 ? void 0 : (_curMenu$curMenu5$car = _curMenu$curMenu5.card) === null || _curMenu$curMenu5$car === void 0 ? void 0 : _curMenu$curMenu5$car.info);\n            },\n            children: \"\\u2795\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"w-[100%]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(MealComponent, \"ApyxBeWIff4z0jNRU/rCktxpGj4=\", false, function () {\n  return [useParams, useSelector, useDispatch];\n});\n_c = MealComponent;\nexport default MealComponent;\nvar _c;\n$RefreshReg$(_c, \"MealComponent\");","map":{"version":3,"names":["useState","useContext","useEffect","IMG_CDN_URL","useDispatch","useSelector","checkAvailability","findQuantity","removeMenu","useParams","RestaurantContext","jsxDEV","_jsxDEV","Fragment","_Fragment","MealComponent","curMenu","_s","_curMenu$curMenu","_curMenu$curMenu$card","_curMenu$curMenu3","_curMenu$curMenu3$car","_curMenu$curMenu3$car2","name","price","description","imageId","card","info","itemQuantity","setItemQuantity","myData","id","cartItems","store","cart","dispatch","handleAdd","meal","check","handleRemove","Math","max","_curMenu$curMenu2","_curMenu$curMenu2$car","_curMenu$curMenu2$car2","children","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","_curMenu$curMenu4","_curMenu$curMenu4$car","_curMenu$curMenu5","_curMenu$curMenu5$car","_c","$RefreshReg$"],"sources":["/Users/himanshi/Desktop/swiggyreact/src/components/MealComponent.js"],"sourcesContent":["import {useState, useContext, useEffect} from \"react\";\nimport { IMG_CDN_URL } from \"./Config\";\nimport { useDispatch ,useSelector } from \"react-redux\";\nimport { checkAvailability, findQuantity, removeMenu } from \"../utils/utils\";\nimport { useParams } from \"react-router-dom\";\nimport RestaurantContext from \"../utils/RestaurantContext\";\n\nconst MealComponent = (curMenu) => {\n\n    //destructure props\n    const {name, price, description, imageId} = curMenu?.curMenu?.card?.info;\n\n    //state variables\n    const [itemQuantity, setItemQuantity] = useState(0);\n\n    //Read data from context API\n    const myData = useContext(RestaurantContext);\n\n    //fetch the id of opened restaurant\n    const { id } = useParams();\n    \n//Cart operations\n    //susbcribe to cart\n    const cartItems = useSelector(store => store.cart.cartItems);\n    //push to cart\n    const dispatch = useDispatch();\n\n    //action functions\n    const handleAdd = (meal) => {\n        const check = checkAvailability(id, meal, cartItems, dispatch, myData);\n        if(check){\n            setItemQuantity(itemQuantity+1);\n        }\n    }\n\n    const handleRemove = (meal) => {\n        removeMenu(meal, cartItems, dispatch);\n        setItemQuantity(Math.max(0, itemQuantity-1));\n    }\n\n    useEffect(() => {\n      setItemQuantity(findQuantity(curMenu?.curMenu?.card?.info?.id, cartItems));\n    }, [cartItems, curMenu?.curMenu?.card?.info?.id,]);\n    \n\n  return (\n    <>\n        <div className=\"flex p-[5px] items-center\">\n          <div className=\"w-[80%] mb-[10px] px-[10px]\">\n            <h4 className=\"mt-0 mb-[8px]\">{name}</h4>\n            <h5 className=\"my-[4px]  text-[#5e5d5d]\">\n              {price / 100}Rs\n            </h5>\n            <p className=\"my-[4px] text-[#8d8d8d]\">\n              {description}\n            </p>\n          </div>\n          <div className=\"relative w-[20%] text-center px-[10px] overflow-hidden\">\n            {imageId ? (\n              <img\n                className=\"min-w-full max-w-full object-fill rounded-md\"\n                src={IMG_CDN_URL + imageId}\n                alt=\"meal\"\n              />\n            ) : (\n              <></>\n            )}\n            <div className=\"flex justify-evenly rounded\">\n              <button\n                className=\" text-sm text-white p-1 transform transition duration-300 hover:scale-125\"\n                onClick={() => handleRemove(curMenu?.curMenu?.card?.info)}\n              >\n                ➖\n              </button>\n\n              <h1 className=\"p-1\">{itemQuantity}</h1>\n\n              <button\n                className=\" text-sm text-white p-1 transform transition duration-300 hover:scale-125\"\n                onClick={() => handleAdd(curMenu?.curMenu?.card?.info)}\n              >\n                ➕\n              </button>\n            </div>\n          </div>\n        </div>\n        <hr className=\"w-[100%]\" />\n        {/* {index < menu.length - 1 ? (\n          <div>\n            \n          </div>\n        ) : (\n          <></>\n        )} */}\n    </>\n  );\n};\n\nexport default MealComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}